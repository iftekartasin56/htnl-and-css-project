<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <title>Web Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
    </style>
</head>

<body>
    <style>
        #mx_cl *,
        ::after,
        ::before {
            box-sizing: border-box;
        }

        #mx_cl {
            line-height: 1.5;
            font-family: inherit;
        }

        #mx_cl .container {
            width: 100%;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #4a4a4a;
            text-align: left;
        }

        #mx_cl label {
            display: inline-block;
            font-size: 16px;
            color: #000;
            font-weight: 400 !important;
            margin-bottom: 0.5rem;
        }

        #mx_cl .row {
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            margin-right: -15px;
            margin-left: -15px;
        }

        #mx_cl .col-md-1,
        #mx_cl .col-md-10,
        #mx_cl .col-md-11,
        #mx_cl .col-md-12,
        #mx_cl .col-md-2,
        #mx_cl .col-md-3,
        #mx_cl .col-md-4,
        #mx_cl .col-md-5,
        #mx_cl .col-md-6,
        #mx_cl .col-md-7,
        #mx_cl .col-md-8,
        #mx_cl .col-md-9 {
            position: relative;
            width: 100%;
            padding-right: 15px;
            padding-left: 15px;
        }

        #mx_cl .form-group {
            margin-bottom: 1rem;
        }

        #mx_cl .form-control {
            display: block;
            width: 100%;
            height: calc(1em + 1rem);
            padding: 0.275rem 0.75rem;
            font-size: 16px;
            font-weight: 400;
            line-height: 1.5;
            color: #4a4a4a;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #dddddd;
            transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        }

        #mx_cl .form-control:focus {
            outline: none;
        }

        #mx_cl .btn {
            display: inline-block;
            font-weight: 400;
            color: #212529;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-color: transparent;
            border: 1px solid transparent;
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: .25rem;
            transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        }

        #mx_cl .btn-primary {
            color: #fff;
            background-color: #28a745;
            border-color: #28a745;
        }

        #mx_cl .btn-reset {
            color: #fff;
            background-color: #28a745;
            border-color: #28a745;
        }

        #mx_cl table {
            border-collapse: collapse;
        }

        #mx_cl .table {
            width: 100%;
            margin-bottom: 1rem;
            color: #212529;
        }

        #mx_cl .table td,
        #mx_cl .table th {
            padding: .75rem;
            vertical-align: top;
            border-top: 1px solid #dee2e6;
        }

        #mx_cl .text-center {
            text-align: center;
        }

        @media (min-width: 576px) {
            #mx_cl .container {
                max-width: 100%;
            }
        }

        @media (min-width: 768px) {
            #mx_cl .container {
                max-width: 100%;
            }

            #mx_cl .col-md-12 {
                -ms-flex: 0 0 100%;
                flex: 0 0 100%;
                max-width: 100%;
            }

            #mx_cl .col-md-9 {
                -ms-flex: 0 0 75%;
                flex: 0 0 75%;
                max-width: 75%;
            }

            #mx_cl .col-md-8 {
                -ms-flex: 0 0 66.666667%;
                flex: 0 0 66.666667%;
                max-width: 66.666667%;
            }

            #mx_cl .col-md-7 {
                -ms-flex: 0 0 58.33333%;
                flex: 0 0 58.33333%;
                max-width: 58.33333%;
            }

            #mx_cl .col-md-6 {
                -ms-flex: 0 0 50%;
                flex: 0 0 50%;
                max-width: 50%;
            }

            #mx_cl .col-md-5 {
                -ms-flex: 0 0 41.666667%;
                flex: 0 0 33.333333%;
                max-width: 33.333333%;
            }

            #mx_cl .col-md-4 {
                -ms-flex: 0 0 33.333333%;
                flex: 0 0 33.333333%;
                max-width: 33.333333%;
            }

            #mx_cl .col-md-3 {
                -ms-flex: 0 0 25%;
                flex: 0 0 25%;
                max-width: 25%;
            }
        }

        @media (min-width: 992px) {
            #mx_cl .container {
                max-width: 960px;
            }
        }

        @media (min-width: 1200px) {
            #mx_cl .container {
                max-width: 900px;
            }
        }

        #mx_cl .text-right {
            text-align: right;
        }

        #mx_cl .form-group,
        #mx_cl .input-group {
            position: relative;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {}

        #mx_cl .top-title {
            font-size: 25px;
            padding: 10px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            color: #057689;
            text-align: center;
            margin-top: 0px;
            border-bottom: 1px solid #057689;
        }

        #mx_cl .em-context {
            box-shadow: 0 0 10px #cbcbcb;
            border-radius: 8px;
        }

        #mx_cl .inner-content {
            padding: 30px;
        }

        #mx_cl .input-group-text {
            margin-bottom: 0;
            position: absolute;
            padding-left: 9px;
            padding-top: 5px;
            font-size: 1rem;
        }

        #mx_cl .input-group-text-right {
            margin-bottom: 0;
            position: absolute;
            right: 25px;
            font-size: 1rem;
        }

        #mx_cl .text-right {
            text-align: left;
            padding-left: 20px;
        }

        #mx_cl .left-sub-heading {
            font-weight: 500 !important;
            font-size: 22px;
            color: #057689;
            margin: 0px;
        }

        #mx_cl .sub-heading-hr {
            border-bottom: 1px solid #A8A8A8;
            width: 100%;
            margin-top: 10px;
        }

        #mx_cl .inner-left {
            padding-left: 0px;
        }

        #mx_cl .left_footer {
            padding: 30px;
            text-align: left;
            background-color: #057689;
            border-radius: 8px;
            color: #fff;
        }

        #mx_cl .left_footer_p {
            font-size: 18px;
            color: #fff;
            display: block;
            padding-bottom: 5px;
            border-bottom: 1px solid #ffff;
        }

        #mx_cl .left_footer_ym {
            display: block;
            font-weight: 600;
            font-size: 20px;
        }

        #mx_cl .right-mid-top-margin {
            margin-top: 20px;
        }

        #mx_cl .left_footer_left {
            margin-top: 30px;
        }

        #mx_cl .right_md_row {
            display: flex;
            align-items: center;
        }

        #mx_cl .annual-margin {
            margin-top: 20px;
        }

        #mx_cl .left_footer_ym_l {
            padding-bottom: 30px !important;
        }
    </style>
    <div class="ms-cl" id="mx_cl">
        <div class="container">
            <div class="em-context">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="top-title">Payback Period Calculator</h3>
                    </div>
                    <div class="col-md-12">
                        <div class="inner-content">
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="in_1"  id="">Discount rate</label>

                                    <div class="input-group-prepend">
                                        <span class="input-group-text input-group-text-right">%</span>
                                    </div>
                                    <input type="text" class="form-control cl-input cl-curr" id="in_1"
                                        value="">

                                </div>
                                <div class="col-md-6">
                                    <label for="in_2"  id="">Initial investment</label>

                                    <div class="input-group-prepend">
                                        <span class="input-group-text ">$</span>
                                    </div>
                                    <input type="text" class="form-control text-right cl-input cl-curr" id="in_2"
                                        value="">

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="Steady" class="left-sub-heading sub-heading-hr">Steady cash
                                            flow</label>
                                        <label for="in_3" class="common-p annual-margin" id="">Annual cash flow</label>
                                        <div class="input-group-prepend">
                                            <span class="input-group-text ">$</span>
                                        </div>
                                        <input type="text" class="form-control text-right cl-input cl-curr" id="in_3"
                                            value="">

                                        <div class="left_footer left_footer_left">
                                            <span class="left_footer_p">Payback period</span>
                                            <span class="left_footer_ym left_footer_ym_l" id="test1">-</span>
                                            <span class="left_footer_p">Discounted payback period</span>
                                            <span class="left_footer_ym" id="test2">-</span>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="Irregular" class="left-sub-heading sub-heading-hr">Irregular cash
                                        flow</label>
                                    <div class="row right_md_row">
                                        <div class="col-md-4 right-mid-top-margin">
                                            <label for="in_4" >Year 1
                                            </label>
                                        </div>
                                        <div class="col-md-8 right-mid-top-margin">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">$</span>
                                                </div>
                                                <input type="text" class="form-control text-right cl-input cl-curr"
                                                    id="in_4" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="in_5" >Year 2
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">$</span>
                                                </div>
                                                <input type="text" class="form-control text-right cl-input cl-curr"
                                                    id="in_5" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="in_6" >Year 3
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">$</span>
                                                </div>
                                                <input type="text" class="form-control text-right cl-input cl-curr"
                                                    id="in_6" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="in_7" >Year 4
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">$</span>
                                                </div>
                                                <input type="text" class="form-control text-right cl-input cl-curr"
                                                    id="in_7" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="in_8" >Year 5
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">$</span>
                                                </div>
                                                <input type="text" class="form-control text-right cl-input cl-curr"
                                                    id="in_8" value="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="left_footer">
                                        <span class="left_footer_p">Payback period</span>
                                        <span class="left_footer_ym" id="test33">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/autonumeric@4.5.4"></script>
        <script>

            jQuery(document).ready(function ($) {
                let initial_investment = 0;
                let annual_cash_flow = 0;
                let yemo = 0;
                const numOptionCurrency = {
                    digitGroupSeparator: ',',
                    decimalCharacter: '.',
                    decimalCharacterAlternative: '.',
                    currencySymbol: '',
                    currencySymbolPlacement: AutoNumeric.options.currencySymbolPlacement.prefix,
                    decimalPlaces: 0
                };
                const numOptionPercent = {
                    digitGroupSeparator: ',',
                    decimalCharacter: '.',
                    decimalCharacterAlternative: '.',
                    currencySymbol: '',
                    currencySymbolPlacement: AutoNumeric.options.currencySymbolPlacement.suffix,
                    decimalPlaces: 2,
                    minimumValue: 0,
                    maximumValue: 100
                };
                new AutoNumeric('#in_1', numOptionPercent);
                new AutoNumeric('#in_2', numOptionCurrency);
                new AutoNumeric('#in_3', numOptionCurrency);
                new AutoNumeric('#in_4', numOptionCurrency);
                new AutoNumeric('#in_5', numOptionCurrency);
                new AutoNumeric('#in_6', numOptionCurrency);
                new AutoNumeric('#in_7', numOptionCurrency);
                new AutoNumeric('#in_8', numOptionCurrency);


                function removeComma(num) {
                    return Number(num.replace(/,/g, ""));
                }

                const nft = Intl.NumberFormat("en-US", {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
                $("#in_1").on("keyup", function () {
                    year_month();
                })

                $("#in_2").on("keyup", function () {
                    year_month();
                })

                $("#in_3").on("keyup", function () {
                    year_month();
                })

                $("#in_4").on("keyup", function () {
                    year_month();
                })
                $("#in_5").on("keyup", function () {
                    year_month();
                })

                $("#in_6").on("keyup", function () {
                    year_month();
                })

                $("#in_7").on("keyup", function () {
                    year_month();
                })
                $("#in_8").on("keyup", function () {
                    year_month();
                })

                function year_month() {
                    let initial_investment = removeComma($("#in_2").val());
                    let annual_cash_flow = removeComma($("#in_3").val());
                    let yemo = (initial_investment / annual_cash_flow);
                    let year = (Math.floor(yemo));
                    let month = (Math.floor((yemo - year) * 12));
                    let txt1 = "-";
                    let txt2 = "-";

                    if (year > 0) {
                        if (year == 1) {
                            txt1 = year + " year";
                        } else {
                            txt1 = year + " years";
                        }
                    }

                    if (month > 0) {
                        if (month == 1) {
                            txt2 = month + " month";
                        } else {
                            txt2 = month + " months";
                        }
                    }

                    let txt3 = "-";
                    if (year > 0 && month > 0) {
                        txt3 = txt1 + " and " + txt2;
                    } else if (year > 0 && month == 0) {
                        txt3 = txt1;
                    } else if (year == 0 && month > 0) {
                        txt3 = txt2;
                    }

                    $("#test1").text(txt3);


                    let discount_price = removeComma($("#in_1").val()) / 100;
                    let dpp_up = -1 * Math.log(1 - initial_investment * discount_price / annual_cash_flow);
                    let dpp_down = Math.log((1 + discount_price));
                    let DPP = (dpp_up / dpp_down);
                    let year2 = (Math.floor(DPP));
                    let month2 = (Math.floor((DPP - year2) * 12));
                    let txt4 = "-";
                    let txt5 = "-";

                    if (year2 > 0) {
                        if (year2 == 1) {
                            txt4 = year + " year";
                        } else {
                            txt4 = year + " years";
                        }
                    }

                    if (month2 > 0) {
                        if (month2 == 1) {
                            txt5 = month2 + " month";
                        } else {
                            txt5 = month2 + " months";
                        }
                    }

                    let txt6 = "-";
                    if (year2 > 0 && month2 > 0) {
                        txt6 = txt4 + " and " + txt5;
                    } else if (year2 > 0 && month2 == 0) {
                        txt6 = txt5;
                    } else if (year2 == 0 && month2 > 0) {
                        txt6 = txt4;
                    }
                    $("#test2").text(txt6);

                    let y1 = removeComma($("#in_4").val());
                    let y2 = removeComma($("#in_5").val());
                    let y3 = removeComma($("#in_6").val());
                    let y4 = removeComma($("#in_7").val());
                    let y5 = removeComma($("#in_8").val());
                    let ySum = (y1 + y2 + y3 + y4 + y5)

                    let yemo2 = (initial_investment / ySum);
                    let year22 = (Math.floor(yemo2));
                    let month22 = (Math.floor((yemo2 - year22) * 12));
                    let txt11 = "-";
                    let txt22 = "-";

                    if (year22 > 0) {
                        if (year22 == 1) {
                            txt11 = year22 + " year";
                        } else {
                            txt11 = year22 + " years";
                        }
                    }

                    if (month22 > 0) {
                        if (month22 == 1) {
                            txt22 = month22 + " month";
                        } else {
                            txt22 = month22 + " months";
                        }
                    }

                    let txt33 = "-";
                    if (year22 > 0 && month22 > 0) {
                        txt33 = txt11 + " and " + txt22;
                    } else if (year22 > 0 && month22 == 0) {
                        txt33 = txt11;
                    } else if (year22 == 0 && month22 > 0) {
                        txt33 = txt22;
                    }

                    $("#test33").text(txt33);
                }
            });
        </script>
</body>

</html>