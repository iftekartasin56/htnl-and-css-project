<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <title>Web Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
    </style>
</head>
<body>
<style>
#mx_cl *, ::after, ::before {
    box-sizing: border-box;
}
#mx_cl {
    line-height: 1.5;
    font-family: inherit;
}
#mx_cl .container {
    width: 100%;
    margin: 0 auto;
    padding-right: 30px;
    padding-left: 30px;
    margin-right: auto;
    margin-left: auto;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: #4a4a4a;
    text-align: left;
    border-radius: 10px;
    box-sizing: border-box;
    box-shadow: 5px 5px 10px 5px rgba(116, 115, 115, 0.5);
    
}
#mx_cl label {
    display: inline-block;
    font-size: 16px;
    font-weight: 500;
    margin-bottom: 0.5rem;
}
#mx_cl .row {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}
#mx_cl .col-md-1, #mx_cl .col-md-10, #mx_cl .col-md-11, #mx_cl .col-md-12, #mx_cl .col-md-2, #mx_cl .col-md-3, #mx_cl .col-md-4, #mx_cl .col-md-5, #mx_cl .col-md-6, #mx_cl .col-md-7, #mx_cl .col-md-8, #mx_cl .col-md-9 {
    position: relative;
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
}
#mx_cl .form-group {
    margin-bottom: 1rem;
}
#mx_cl .form-control {
    display: block;
    width: 100%;
    height: calc(1em + 0.75rem + 2px);
    padding: 0.275rem 0.75rem;
    font-size: 16px;
    font-weight: 400;
    line-height: 1.5;
    color: #4a4a4a;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #dddddd;
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}
#mx_cl .form-control:focus {
    outline: none;
}
#mx_cl .btn {
    display: inline-block;
    font-weight: 400;
    color: #212529;
    text-align: center;
    vertical-align: middle;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    background-color: transparent;
    border: 1px solid transparent;
    padding: .375rem .75rem;
    font-size: 1rem;
    line-height: 1.5;
    border-radius: .25rem;
    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}
#mx_cl .btn-primary {
    color: #fff;
    background-color: #28a745;
    border-color: #28a745;
}
#mx_cl .btn-reset {
    color: #fff;
    background-color: #28a745;
    border-color: #28a745;
}
#mx_cl table {
    border-collapse: collapse;
}
#mx_cl .table {
    width: 100%;
    margin-bottom: 1rem;
    color: #212529;
}
#mx_cl .table td, #mx_cl .table th {
    padding: .75rem;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
}
#mx_cl .text-center {
    text-align: center;
}
@media (min-width: 576px){
    #mx_cl .container {
        max-width: 100%;
    }
}
@media (min-width: 768px){
    #mx_cl .container {
        max-width: 100%;
    }
    #mx_cl .col-md-12 {
        -ms-flex: 0 0 100%;
        flex: 0 0 100%;
        max-width: 100%;
    }
    #mx_cl .col-md-9 {
        -ms-flex: 0 0 75%;
        flex: 0 0 75%;
        max-width: 75%;
    }
    #mx_cl .col-md-8 {
        -ms-flex: 0 0 66.666667%;
        flex: 0 0 66.666667%;
        max-width: 66.666667%;
    }
    #mx_cl .col-md-7 {
        -ms-flex: 0 0 58.33333%;
        flex: 0 0 58.33333%;
        max-width: 58.33333%;
    }
    #mx_cl .col-md-6 {
        -ms-flex: 0 0 50%;
        flex: 0 0 50%;
        max-width: 50%;
    }
    #mx_cl .col-md-5 {
        -ms-flex: 0 0 41.666667%;
        flex: 0 0 33.333333%;
        max-width: 33.333333%;
    }
    #mx_cl .col-md-4 {
        -ms-flex: 0 0 33.333333%;
        flex: 0 0 33.333333%;
        max-width: 33.333333%;
    }
    #mx_cl .col-md-3 {
        -ms-flex: 0 0 25%;
        flex: 0 0 25%;
        max-width: 25%;
    }
}
@media (min-width: 992px){
    #mx_cl .container {
        max-width: 960px;
    }
}
@media (min-width: 1200px) {
    #mx_cl .container {
        max-width: 1150px;
    }
}
#mx_cl .text-right {
    text-align: right ;
}
#mx_cl .form-group, #mx_cl .input-group {
    position: relative;
    margin-bottom: 15px;
}
@media (max-width: 768px){

}
#mx_cl .top-title {
    font-size: 25px;
}
.tablefontsize {
  font-size: 16px;
}

.weight {
  width: 90px;
  padding: 0.3em 0 0.3em 0.3em;
  font-size: 1.2rem;
}

.reps {
  font-size: 1.1rem;
  padding: 8px;
}
.rep-heading{
    font-size: 2rem;
    text-align: center;
}
.rep-max-input{
    text-align: center;
    margin-bottom: 20px;
    font-size: 2rem;
}

</style>
<div class="ms-cl" id="mx_cl">
    <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h1 class="rep-heading">Rep Max Calc</h1>
            <div class="rep-max-input">
            I did <input type="number" value="60" id="weight" class="weight" placeholder="Weight" pattern="[0-9]*"> for 
            <select id="reps" class="reps">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
            reps
          </div> 
          </div>
          <!--col input-->
        </div>
        <!--row input-->
      
        <div class="row">
          <div class="col-md-12 table-responsive">
            <table class="table table-striped table-hover tablefontsize">
              <thead>
                <tr>
                  <th>RM</th>
                  <th>Average</th>
                  <th><a href="http://en.wikipedia.org/wiki/One-repetition_maximum#Lombardi" target="_blank">Lombardi</a></th>
                  <th><a href="http://en.wikipedia.org/wiki/One-repetition_maximum#Brzycki" target="_blank">Brzycki</a></th>
                  <th><a href="http://en.wikipedia.org/wiki/One-repetition_maximum#Epley" target="_blank">Epley</a></th>
                  <th><a href="http://en.wikipedia.org/wiki/One-repetition_maximum#Mayhew_et_al." target="_blank">Mayhew</a></th>
                  <th><a href="http://en.wikipedia.org/wiki/One-repetition_maximum#O.27Conner_et_al." target="_blank">O'Conner</a></th>
                  <th><a href="http://en.wikipedia.org/wiki/One-repetition_maximum#Wathan" target="_blank">Wathan</a></th>
                  <th><a href="http://en.wikipedia.org/wiki/One-repetition_maximum#Lander" target="_blank">Lander</a></th>
                </tr>
              </thead>
              <tbody class="output">
      
              </tbody>
      
            </table>
          </div>
          <!--col table-->
        </div>
        <!--row table-->
      </div>
      <!--container-->
</div>
<script>
    //All Things Gym Rep Max Calculator: http://www.allthingsgym.com/rep-max-calculator/
//To do: fancy charts?
calc();
$('#weight,#reps').on("keyup change", function() { //constantly fire when a weight is entered OR reps are changed, ain't nobody got time for submit buttons
calc();


});
function calc(){
    var output = $('.output'); //caching that so jQuery doesn't need to fetch it every time

var RepMaxCalc = { //here we go

  init: function() { //the game plan
    this.getInput();
    this.calculateOneRM();
    this.calculateRMs();

  },

  getInput: function() { //read the input weight and reps

    RepMaxCalc.weight = $('#weight').val();
    RepMaxCalc.reps = $('#reps').val();

  },

  calculateOneRM: function() {

    //for all reps > 1 calculate the 1RMs    
    RepMaxCalc.lomonerm = RepMaxCalc.weight * Math.pow(RepMaxCalc.reps, 1 / 10);

    RepMaxCalc.brzonerm = RepMaxCalc.weight * (36 / (37 - RepMaxCalc.reps));
    RepMaxCalc.eplonerm = RepMaxCalc.weight * (1 + (RepMaxCalc.reps / 30));
    RepMaxCalc.mayonerm = (RepMaxCalc.weight * 100) / (52.2 + (41.9 * Math.exp(-1 * (RepMaxCalc.reps * 0.055))));
    RepMaxCalc.ocoonerm = RepMaxCalc.weight * (1 + RepMaxCalc.reps * 0.025);
    RepMaxCalc.watonerm = (RepMaxCalc.weight * 100) / (48.8 + (53.8 * Math.exp(-1 * (RepMaxCalc.reps * 0.075))));
    RepMaxCalc.lanonerm = RepMaxCalc.weight * 100 / (101.3 - 2.67123 * RepMaxCalc.reps);

    RepMaxCalc.avgonerm = (RepMaxCalc.lomonerm + RepMaxCalc.brzonerm + RepMaxCalc.eplonerm + RepMaxCalc.mayonerm + RepMaxCalc.ocoonerm + RepMaxCalc.watonerm + RepMaxCalc.lanonerm) / 7;

    output.empty(); //empty the table from previous outputs (needed because we continuously detect new inputs, which would lead to recalculations being added to the bottom of the table)

    // If reps = 1 display the entered weight as 1RM (instead of the >1RM results that some formulas give)
    if (RepMaxCalc.reps == 1) {

      output.append('<tr><td>' + '1RM' + '</td><td><strong>' + RepMaxCalc.weight + '</strong></td><td>' + RepMaxCalc.weight + '</td><td>' + RepMaxCalc.weight + '</td><td>' + RepMaxCalc.weight + '</td><td>' + RepMaxCalc.weight + '</td><td>' + RepMaxCalc.weight + '</td><td>' + RepMaxCalc.weight + '</td><td>' + RepMaxCalc.weight + '</td></tr>').find("td").css("font-size", "120%");
    } else {
      //append the 1RMs to the table, row by row
      output.append('<tr><td>' + '1RM' + '</td><td><strong>' + Math.floor(RepMaxCalc.avgonerm) + '</strong></td><td>' + Math.floor(RepMaxCalc.lomonerm) + '</td><td>' + Math.floor(RepMaxCalc.brzonerm) + '</td><td>' + Math.floor(RepMaxCalc.eplonerm) + '</td><td>' + Math.floor(RepMaxCalc.mayonerm) + '</td><td>' + Math.floor(RepMaxCalc.ocoonerm) + '</td><td>' + Math.floor(RepMaxCalc.watonerm) + '</td><td>' + Math.floor(RepMaxCalc.lanonerm) + '</td></tr>').find("td").css("font-size", "120%");
    }
  },

  calculateRMs: function() {

    // calculate RMs 2-10 and append it to the table
    var i = 2;
    for (i; i <= 10; i++) {

      RepMaxCalc.lomrm = Math.floor(RepMaxCalc.lomonerm / (Math.pow(i, 1 / 10)));
      RepMaxCalc.brzrm = Math.floor((RepMaxCalc.brzonerm * (37 - i)) / 36);
      RepMaxCalc.eplrm = Math.floor(RepMaxCalc.eplonerm / ((1 + (i / 30))));
      RepMaxCalc.mayrm = Math.floor((RepMaxCalc.mayonerm * (52.2 + (41.9 * Math.exp(-1 * (i * 0.055))))) / 100);
      RepMaxCalc.ocorm = Math.floor((RepMaxCalc.ocoonerm / (1 + i * 0.025)));
      RepMaxCalc.watrm = Math.floor((RepMaxCalc.watonerm * (48.8 + (53.8 * Math.exp(-1 * (i * 0.075))))) / 100);
      RepMaxCalc.lanrm = Math.floor(((RepMaxCalc.lanonerm * (101.3 - 2.67123 * i)) / 100));

      RepMaxCalc.avgrm = Math.floor((RepMaxCalc.lomrm + RepMaxCalc.brzrm + RepMaxCalc.eplrm + RepMaxCalc.mayrm + RepMaxCalc.ocorm + RepMaxCalc.watrm + RepMaxCalc.lanrm) / 7);

      //append the RMs to the table, row by row
      output.append('<tr><td>' + i + 'RM' + '</td><td><strong>' + RepMaxCalc.avgrm + '</strong></td><td>' + RepMaxCalc.lomrm + '</td><td>' + RepMaxCalc.brzrm + '</td><td>' + RepMaxCalc.eplrm + '</td><td>' + RepMaxCalc.mayrm + '</td><td>' + RepMaxCalc.ocorm + '</td><td>' + RepMaxCalc.watrm + '</td><td>' + RepMaxCalc.lanrm + '</td></tr>');
    }
  }
}

RepMaxCalc.init(); // initiate RepMaxCalc
}
</script>
</body>
</html>